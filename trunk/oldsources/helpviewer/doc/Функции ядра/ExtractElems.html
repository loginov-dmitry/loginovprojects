<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> Main functions:  ExtractElems</TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="Логинов Д.С.">
<META NAME="Keywords" CONTENT="Matrix, ExtractElems">
<META NAME="Description" CONTENT="Описание функции">
</HEAD>

<BODY>
<font size='+1' style="font-family: courier new;">
<table width="100%"><tr><td valign=baseline bgcolor="#ffe4b0"><b>Main functions</b></td></tr><table> 
<HR>

<H1><FONT COLOR="#CC3300">ExtractElems</FONT></H1>
Извлечение нескольких элементов массива<BR>

<H2><FONT COLOR="#CC3300">Объявление функции</FONT></H2>

<b>&nbsp;&nbsp;function TWorkspace.ExtractElems(SourAr, NumElArray, DestAr: String): String;
</b><BR>

<H2><FONT COLOR="#CC3300">Назначение</FONT></H2>

Функция извлекает из массива <B>SourAr</B> те элементы, номера которых указаны в массиве <B>NumElArray</B>. Формирует массив <B>DestAr</B>, имеющий число строк и столбцов такое же, что и у <B>NumElArray</B>. Извлечение элементов проиходит следующим образом: в цикле из массива <B>NumElArray</B> берется очередной элемент <B>I</B>, после чего из массива <B>SourAr</B> извлекается элемент с порядковым номером <B>I</B>, причем выборка элементов из массива <B>SourAr</B> происходит не построчно, а по столбцам (т.е. извлекаются элементы первого столбца, затем элементы второго столбца и т.д.) - это сделано для совместимости с соответствующей операцией системы MATLAB. Если в массиве <B>NumElArray</B> задан индекс несуществующего элемента, то генерируется исключение с сообщением об ошибке. Функция возвращает имя массива <B>DestAr</B>.<BR>

<H2><FONT COLOR="#CC3300">Примеры</FONT></H2>

Пусть имеется массивы
<PRE>A=
[0.9501 0.7621 0.6154 0.4057 0.0579;
0.2311 0.4565 0.7919 0.9355 0.3529;
0.6068 0.0185 0.9218 0.9169 0.8132;
0.486 0.8214 0.7382 0.4103 0.0099;
0.8913 0.4447 0.1763 0.8936 0.1389];</PRE>
<PRE>B=
[1 4 5 6 11 15 18 25]</PRE>

<PRE>C=[1 4;
5 6;
11 15;
18 25]</PRE>

Выберем из массива А элементы с индексами, хранящимися в массивах В и С. Результаты поместим в массивы Out_1 и Out_2:<BR><BR>
<b>&nbsp;&nbsp;Base.ExtractElems('A', 'B', 'Out_1'); </b><BR>
<b>&nbsp;&nbsp;Base.ExtractElems('A', 'C', 'Out_2'); </b><BR><BR>

В результате получим следующие массивы:
<PRE>Out_1=[0.9501 0.486 0.8913 0.7621 0.6154 0.1763 0.9169 0.1389];

Out_2=[0.9501 0.486;
0.8913 0.7621;
0.6154 0.1763;
0.9169 0.1389];</PRE>

Как видите, массив Out_1 имеет структуру массива В, а массив Out_2 имеет структуру массива С, хотя элементы у обоих массивов одни и те же.

</BODY>
</HTML>
